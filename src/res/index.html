<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
		<title>Google Maps JavaScript API Example</title>
		<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=GOOGLE_MAPS_KEY"
			type="text/javascript">
		</script>
		<script type="text/javascript">
			var map;
			
			function initialize()
			{
				if(GBrowserIsCompatible())
				{
					map = new GMap2(document.getElementById("map"));
//					map.setCenter(new GLatLng(47.0, 8.5), 13);
					map.setMapType(G_PHYSICAL_MAP);
				}
			}

			function getPointFromLatLon(lat, lon)
			{
				var proj;
				var west;
				var north;
				var nwPoint;
				var point;
			
				proj = map.getCurrentMapType().getProjection();
				west = map.getBounds().getSouthWest().lng();
				north = map.getBounds().getNorthEast().lat();
				nwPoint = proj.fromLatLngToPixel(new GLatLng(north, west), map.getZoom());
				point = proj.fromLatLngToPixel(new GLatLng(lat, lon), map.getZoom());
			
				return new Array(point.x - nwPoint.x, point.y - nwPoint.y);
			}
		
			function getLatLonFromPoint(x, y)
			{
				var proj;
				var west;
				var north;
				var nwPoint;
				var gLatLng;
		
				west = map.getBounds().getSouthWest().lng();
				north = map.getBounds().getNorthEast().lat();
				proj = map.getCurrentMapType().getProjection();
				nwpoint = proj.fromLatLngToPixel(new GLatLng(north, west), map.getZoom());
				gLatLng = proj.fromPixelToLatLng(new GPoint(nwpoint.x + x,
									nwpoint.y + y), map.getZoom());

				return new Array(gLatLng.lat(), gLatLng.lng());
			}

			function zoomIn()
			{
				map.zoomIn();
			}

			function zoomOut()
			{
				map.zoomOut();
			}

			function zoomTo(north, east, south, west)
			{
				map.setCenter(new GLatLng((north + south) / 2, (east + west)  / 2), 11);
/*
				var bounds;
				var sw;
				var ne;

				sw = new GLatLng(46.8712, 9.62455);
				ne = new GLatLng(47.029783, 9.974750);
				bounds = new GLatLngBounds(sw, ne);
				map.setCenter(bounds.getCenter(), map.getBoundsZoomLevel(bounds));
*/
/*
				var bounds;
				var sw;
				var ne;

				sw = new GLatLng(south, west);
				ne = new GLatLng(north, east);

				bounds = new GLatLngBounds(sw, ne);

//alert("zoomTo(" + bounds.getCenter().lat() + ", " + bounds.getCenter().lng() + ", " + map.getBoundsZoomLevel(bounds) +")\n");

//				map.setCenter(bounds.getCenter(), map.getBoundsZoomLevel(bounds));
//map.setCenter(new GLatLng(47.0, 8.5), 13);
map.setCenter(bounds.getCenter(), 7);
*/
			}

			function setPolyLine(encPoints, encLevels, weight, color)
			{
				var encPolyLine;

				encPolyLine = new GPolyline.fromEncoded({
						color: color,
						weight: weight,
						opacity: 1.0,
						points: encPoints,
						levels: encLevels,
						zoomFactor: 2,
						numLevels: 18
				});

				map.addOverlay(encPolyLine);
			}

			function setMarker(lat, lon, image)
			{
				var latLng;
				var marker;
				var icon;
				var markerOpts;

				icon = new GIcon(G_DEFAULT_ICON);
				icon.image = image;
				latLng = new GLatLng(lat, lon);
				markerOpts = {icon: icon};
				marker = new GMarker(latLng, markerOpts);
				map.addOverlay(marker);
			}

			function setSize(w, h)
			{
				var map_div;

				map_div = document.getElementById("map");
				map_div.style.width = w + "px";
				map_div.style.height = h + "px";
				map.checkResize();
			}

			function setCenter(lat, lon)
			{
				map.setCenter(new GLatLng(lat, lon));
			}
		</script>
	</head>
	<body onload="initialize()" onunload="GUnload()" topmargin="0" leftmargin="0">
		<div id="map" style="width: 800px; height: 800px"></div>
	</body>
</html>
